{
    "openapi": "3.0.0",
    "info": {
        "title": "API Lumen: Loja de vendas",
        "version": "0.1"
    },
    "paths": {
        "/manufacturers": {
            "get": {
                "tags": [
                    "Fabricante"
                ],
                "summary": "Buscar todos os fabricantes no banco.",
                "operationId": "65d91c441a1ca0a7a8dcfe0b57100b1f",
                "responses": {
                    "200": {
                        "description": "test"
                    }
                }
            }
        },
        "/manufacturers/create": {
            "post": {
                "tags": [
                    "Fabricante"
                ],
                "summary": "Cadastrar novo fabricante",
                "operationId": "9970f27ecf2b9a084f7b22d7372afde7",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "manufacturer_name",
                                    "manufacturer_social_name",
                                    "cnpj"
                                ],
                                "properties": {
                                    "manufacturer_name": {
                                        "type": "string",
                                        "example": "Zaeli"
                                    },
                                    "manufacturer_social_name": {
                                        "type": "string",
                                        "example": "Zaeli ltda."
                                    },
                                    "cnpj": {
                                        "type": "string",
                                        "example": "01.001.001/00001-30"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Fabricante criado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "manufacturer_name": {
                                            "type": "string",
                                            "example": "Zaeli"
                                        },
                                        "manufacturer_social_name": {
                                            "type": "string",
                                            "example": "Zaeli ltda."
                                        },
                                        "cnpj": {
                                            "type": "string",
                                            "example": "01.001.001/00001-30"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/manufacturers/{id}": {
            "get": {
                "tags": [
                    "Fabricante"
                ],
                "summary": "Buscar um fabricante",
                "operationId": "85d33ac103fcaee11e036ecd70d088d7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Id do fabricante",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Aqui está o fabricante desejado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "manufacturer_name": {
                                            "type": "string",
                                            "example": "Zaeli"
                                        },
                                        "manufacturer_social_name": {
                                            "type": "string",
                                            "example": "Zaeli ltda."
                                        },
                                        "cnpj": {
                                            "type": "string",
                                            "example": "01.001.001/00001-30"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/manufacturers/update/{id}": {
            "put": {
                "tags": [
                    "Fabricante"
                ],
                "summary": "Alterar um cadastro",
                "operationId": "c001d25ca6c46548ab4ee6ea671ccfb4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Id do fabricante",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "manufacturer_name",
                                    "manufacturer_social_name",
                                    "cnpj"
                                ],
                                "properties": {
                                    "manufacturer_name": {
                                        "type": "string",
                                        "example": "Zaeli"
                                    },
                                    "manufacturer_social_name": {
                                        "type": "string",
                                        "example": "Zaeli ltda."
                                    },
                                    "cnpj": {
                                        "type": "string",
                                        "example": "01.001.001/00001-30"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Fabricante alterado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "manufacturer_name": {
                                            "type": "string",
                                            "example": "Zaeli"
                                        },
                                        "manufacturer_social_name": {
                                            "type": "string",
                                            "example": "Zaeli ltda."
                                        },
                                        "cnpj": {
                                            "type": "string",
                                            "example": "01.001.001/00001-30"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/manufacturers/delete/{id}": {
            "delete": {
                "tags": [
                    "Fabricante"
                ],
                "summary": "Deletar um fabricante pelo ID",
                "operationId": "5c3edbf7260c6a243f30ed7f19c06dc9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID do fabricante a ser deletado. OBS: Se o fabricante tiver algum produto no sistema,\r\n               A deleção não será possível.",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Fabricante deletado com sucesso"
                    },
                    "404": {
                        "description": "Fabricante não encontrado"
                    }
                }
            }
        },
        "/products": {
            "get": {
                "tags": [
                    "Produto"
                ],
                "summary": "Buscar todos os produtos no banco.",
                "operationId": "e8dee54b09adbe3622e56a4f4f19ecb0",
                "responses": {
                    "200": {
                        "description": "test"
                    }
                }
            }
        },
        "/products/create": {
            "post": {
                "tags": [
                    "Produto"
                ],
                "summary": "Cadastrar novo produto",
                "description": "OBS: id do fabricante deve ser válido!",
                "operationId": "988c9dfe2fa2bd324bcf40e40d37d2ee",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "product_name",
                                    "product_description",
                                    "fabrication_date",
                                    "expiration_date",
                                    "buy_price",
                                    "sell_price",
                                    "manufacturer_id"
                                ],
                                "properties": {
                                    "product_name": {
                                        "type": "string",
                                        "example": "Farofa Zaeli"
                                    },
                                    "product_description": {
                                        "type": "string",
                                        "example": "A melhor do mercado!"
                                    },
                                    "fabrication_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-06-20"
                                    },
                                    "expiration_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2026-06-20"
                                    },
                                    "buy_price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 19
                                    },
                                    "sell_price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 28
                                    },
                                    "manufacturer_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Produto criado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "product_name": {
                                            "type": "string",
                                            "example": "Farofa Zaeli"
                                        },
                                        "product_description": {
                                            "type": "string",
                                            "example": "A melhor do mercado!"
                                        },
                                        "fabrication_date": {
                                            "type": "string",
                                            "format": "date",
                                            "example": "2025-06-20"
                                        },
                                        "expiration_date": {
                                            "type": "string",
                                            "format": "date",
                                            "example": "2026-06-20"
                                        },
                                        "buy_price": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 19
                                        },
                                        "sell_price": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 28
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/products/{id}": {
            "get": {
                "tags": [
                    "Produto"
                ],
                "summary": "Buscar um produto",
                "operationId": "b2dc537014e0b7a417594278d020f99d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Id do produto",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Aqui está o produto desejado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "product_name": {
                                            "type": "string",
                                            "example": "Farofa Zaeli"
                                        },
                                        "product_description": {
                                            "type": "string",
                                            "example": "A melhor do mercado!"
                                        },
                                        "fabrication_date": {
                                            "type": "string",
                                            "format": "date",
                                            "example": "2025-06-20"
                                        },
                                        "expiration_date": {
                                            "type": "string",
                                            "format": "date",
                                            "example": "2026-06-20"
                                        },
                                        "buy_price": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 19
                                        },
                                        "sell_price": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 28
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/products/update/{id}": {
            "put": {
                "tags": [
                    "Produto"
                ],
                "summary": "Alterar um cadastro",
                "operationId": "dd3708926693d9d189fbaaccbb852a1c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Id do produto",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "product_name",
                                    "product_description",
                                    "sell_price",
                                    "buy_price"
                                ],
                                "properties": {
                                    "product_name": {
                                        "type": "string",
                                        "example": "Farofa Zaeli"
                                    },
                                    "product_description": {
                                        "type": "string",
                                        "example": "A melhor do mercado!"
                                    },
                                    "buy_price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 19
                                    },
                                    "sell_price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 28
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Produto alterado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "product_name": {
                                            "type": "string",
                                            "example": "Farofa Pinduca"
                                        },
                                        "product_description": {
                                            "type": "string",
                                            "example": "A mais saborosa."
                                        },
                                        "buy_price": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 32
                                        },
                                        "sell_price": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 48
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/products/delete/{id}": {
            "delete": {
                "tags": [
                    "Produto"
                ],
                "summary": "Deletar um produto pelo ID",
                "operationId": "a79c11341007437b9eba1cec11144066",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID do produto a ser deletado.",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Produto deletado com sucesso"
                    },
                    "404": {
                        "description": "Produto não encontrado"
                    }
                }
            }
        },
        "/sales": {
            "get": {
                "tags": [
                    "Venda"
                ],
                "summary": "Buscar todas as vendas no banco.",
                "operationId": "a5ee9b081e13a02a511a2e7f2cb44a55",
                "responses": {
                    "200": {
                        "description": "Lista de vendas retornada com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "sale_id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "sale_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-05-10"
                                            },
                                            "total_value": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 149.99
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/sales/create": {
            "post": {
                "tags": [
                    "Venda"
                ],
                "summary": "Criar uma nova venda",
                "operationId": "7434c8adc87b45691cd100dfc68edda4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "sale_date",
                                    "total_value"
                                ],
                                "properties": {
                                    "sale_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-04-06"
                                    },
                                    "total_value": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 299.9
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Venda criada com sucesso"
                    },
                    "422": {
                        "description": "Erro de validação"
                    }
                }
            }
        },
        "/sales/{id}": {
            "get": {
                "tags": [
                    "Venda"
                ],
                "summary": "Buscar uma venda pelo ID",
                "operationId": "cceac3d445ec923f95b0dfcb0a464675",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID da venda",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Venda encontrada com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "sale_date": {
                                            "type": "string",
                                            "format": "date",
                                            "example": "2025-04-06"
                                        },
                                        "total_value": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 299.9
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-04-06T12:34:56Z"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "example": "2025-04-06T14:00:00Z"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Venda não encontrada"
                    }
                }
            }
        },
        "/sales/update/{sale_id}": {
            "put": {
                "tags": [
                    "Venda"
                ],
                "summary": "Atualizar uma venda existente",
                "operationId": "6549216fc5f6e56c98d3f0241e759d09",
                "parameters": [
                    {
                        "name": "sale_id",
                        "in": "path",
                        "description": "ID da venda",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "sale_date",
                                    "total_value"
                                ],
                                "properties": {
                                    "sale_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-04-06"
                                    },
                                    "total_value": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 299.9
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Venda atualizada com sucesso"
                    },
                    "404": {
                        "description": "Venda não encontrada"
                    }
                }
            }
        },
        "/sales/delete/{sale_id}": {
            "delete": {
                "tags": [
                    "Venda"
                ],
                "summary": "Deletar uma venda",
                "operationId": "bf90f63a1c9d7aff12dbce43d8614468",
                "parameters": [
                    {
                        "name": "sale_id",
                        "in": "path",
                        "description": "ID da venda",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Venda deletada com sucesso"
                    },
                    "404": {
                        "description": "Venda não encontrada"
                    }
                }
            }
        },
        "/sales_item": {
            "get": {
                "tags": [
                    "Itens de venda"
                ],
                "summary": "Buscar todos os items vendidos no banco.",
                "operationId": "fbfa75b84c12e0c355317879def5db5b",
                "responses": {
                    "200": {
                        "description": "test"
                    }
                }
            }
        },
        "/sales_item/create": {
            "post": {
                "tags": [
                    "Itens de venda"
                ],
                "summary": "Cadastrar novo item de venda",
                "operationId": "87e97ea23af50e8572634dd986235566",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "sales_item_date",
                                    "sale_id",
                                    "product_id",
                                    "quantity"
                                ],
                                "properties": {
                                    "sales_item_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-04-06"
                                    },
                                    "sale_id": {
                                        "type": "integer",
                                        "example": "1"
                                    },
                                    "product_id": {
                                        "type": "integer",
                                        "example": "2"
                                    },
                                    "": {
                                        "type": "integer",
                                        "example": "1"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Item de venda criado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "sales_item_id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "sales_item_date": {
                                            "type": "string",
                                            "format": "date",
                                            "example": "2025-04-06"
                                        },
                                        "sale_id": {
                                            "type": "integer",
                                            "example": "1"
                                        },
                                        "product_id": {
                                            "type": "integer",
                                            "example": "2"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/sales_item/{sale_id}": {
            "get": {
                "tags": [
                    "Itens de venda"
                ],
                "summary": "Buscar itens de venda de uma venda",
                "operationId": "182bab18b16fa8eecffb71c6b8fc613d",
                "parameters": [
                    {
                        "name": "sale_id",
                        "in": "path",
                        "description": "Id da venda",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Aqui estão os itens desta venda",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "sales_item_id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "sales_item_date": {
                                                "type": "string",
                                                "format": "date",
                                                "example": "2025-04-06"
                                            },
                                            "sale_id": {
                                                "type": "integer",
                                                "example": "1"
                                            },
                                            "product_id": {
                                                "type": "integer",
                                                "example": "2"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/sales_item/update/{id}": {
            "put": {
                "tags": [
                    "Itens de venda"
                ],
                "summary": "Alterar um cadastro",
                "operationId": "a26a302b314c5972ec7277280f964271",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Id do item de venda",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "sales_item_date",
                                    "sale_id",
                                    "product_id",
                                    "quantity"
                                ],
                                "properties": {
                                    "sales_item_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-04-06"
                                    },
                                    "sale_id": {
                                        "type": "integer",
                                        "example": "1"
                                    },
                                    "product_id": {
                                        "type": "integer",
                                        "example": "2"
                                    },
                                    "quantity": {
                                        "type": "integer",
                                        "example": "1"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Item de venda alterado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "sales_item_date": {
                                            "type": "string",
                                            "format": "date",
                                            "example": "2025-04-06"
                                        },
                                        "sale_id": {
                                            "type": "integer",
                                            "example": "1"
                                        },
                                        "product_id": {
                                            "type": "integer",
                                            "example": "2"
                                        },
                                        "quantity": {
                                            "type": "integer",
                                            "example": "1"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Dados inválidos"
                    }
                }
            }
        },
        "/sales_item/delete/{sales_item_id}": {
            "delete": {
                "tags": [
                    "Itens de venda"
                ],
                "summary": "Deletar um item de venda pelo ID",
                "operationId": "54d7e58556a767ea270781c246bcaaeb",
                "parameters": [
                    {
                        "name": "sales_item_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Item de venda deletado com sucesso"
                    },
                    "404": {
                        "description": "Item de venda não encontrado"
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Fabricante",
            "description": "Fabricante"
        },
        {
            "name": "Produto",
            "description": "Produto"
        },
        {
            "name": "Venda",
            "description": "Venda"
        },
        {
            "name": "Itens de venda",
            "description": "Itens de venda"
        }
    ]
}